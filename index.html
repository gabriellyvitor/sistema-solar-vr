<!DOCTYPE html>
<html>
  <head>
    <title>Sistema Solar Interativo A-Frame</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  </head>
  <body>
    <div style="position: fixed; bottom: 20px; width: 100%; text-align: center; z-index: 10;">
      <button onclick="mudarPlaneta(-1)" style="padding: 10px 20px;">Anterior</button>
      <button onclick="mudarPlaneta(1)" style="padding: 10px 20px;">Próximo</button>
    </div>

    <a-scene>
      <a-assets>
        <img id="sky" src="https://cdn.aframe.io/360-guide/gallery/images/photosphere.jpg">
      </a-assets>

      <a-sky src="#sky"></a-sky>

      <a-entity id="cameraRig" position="0 1.6 10">
        <a-camera id="mainCamera"></a-camera>
      </a-entity>

      <a-entity id="sun" position="0 0 0">
        <a-sphere radius="3" color="yellow" emissive="yellow" emissiveIntensity="0.5"></a-sphere>
        <a-text value="O SOL: Uma estrela do tipo G2V." position="0 4 0" align="center" width="5"></a-text>
      </a-entity>

      <a-entity id="earth" position="15 0 0">
        <a-sphere radius="1" color="blue"></a-sphere>
        <a-text value="TERRA: Nosso lar. Unico planeta com vida conhecida." position="0 2 0" align="center" width="4"></a-text>
      </a-entity>

      <a-entity id="mars" position="25 0 0">
        <a-sphere radius="0.8" color="red"></a-sphere>
        <a-text value="MARTE: O planeta vermelho." position="0 2 0" align="center" width="4"></a-text>
      </a-entity>
    </a-scene>

    <script>
      // Configuração dos destinos (Posições da câmera relativas a cada planeta)
      const destinos = [
        { x: 0, y: 1.6, z: 10 },   // Posição para ver o Sol
        { x: 15, y: 1.6, z: 5 },   // Posição para ver a Terra
        { x: 25, y: 1.6, z: 5 }    // Posição para ver Marte
      ];

      let indiceAtual = 0;
      const rig = document.querySelector('#cameraRig');

      function mudarPlaneta(direcao) {
        indiceAtual += direcao;

        // Limitar o índice para não sair do array
        if (indiceAtual < 0) indiceAtual = 0;
        if (indiceAtual >= destinos.length) indiceAtual = destinos.length - 1;

        const novaPos = destinos[indiceAtual];

        // Animação suave usando o atributo 'animation' do A-Frame
        rig.setAttribute('animation', {
          property: 'position',
          to: `${novaPos.x} ${novaPos.y} ${novaPos.z}`,
          dur: 2000,
          easing: 'easeInOutQuad'
        });
      }
    </script>
  </body>
</html>
